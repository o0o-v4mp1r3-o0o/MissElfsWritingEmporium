(this.webpackJsonptictactoe=this.webpackJsonptictactoe||[]).push([[0],{113:function(e,t,n){},114:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var c=n(3),r=n.n(c),a=n(35),s=n.n(a),o=(n(89),n(90),n(0)),i=n.n(o),l=n(1),u=n(12),j=n(17),d=n(124),b=n(73),h=n(82),p=Object(b.a)({apiKey:"AIzaSyAVg6Ya1rPo9_1f1aRD1nmpUCn-nfhAR6k",authDomain:"writing-22032.firebaseapp.com",databaseURL:"https://writing-22032-default-rtdb.firebaseio.com",projectId:"writing-22032",storageBucket:"writing-22032.appspot.com",messagingSenderId:"413062129590",appId:"1:413062129590:web:c437affc3b182166948317",measurementId:"G-L6H7BGK0Z7"}),f=(Object(h.a)(p),n(26)),O=(n(92),n.p+"static/media/signindesign.13761071.jpg"),m=n(6),x=null;var g=function(){var e=Object(j.f)(),t=Object(c.useState)(),n=Object(u.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(),o=Object(u.a)(s,2),b=o[0],h=o[1],p=Object(c.useState)(!1),g=Object(u.a)(p,2),v=g[0],S=g[1],y=Object(f.a)(),k=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://misselfsbackend.herokuapp.com/validatetoken?s="+x.accessToken).then((function(e){return e.text()})).then((function(e){return console.log(e)})).then(S(!0));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://misselfsbackend.herokuapp.com/inject",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:x.uid,id:1})}).then((function(e){return e.text()})).then((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"mainbody",style:{backgroundImage:"url(".concat(O,")"),backgroundSize:"cover"},children:v?Object(m.jsx)(j.a,{to:"/Home"}):Object(m.jsxs)("div",{className:"loggers",children:[Object(m.jsx)("h1",{children:"Log In"}),Object(m.jsxs)("div",{className:"logininput",children:[Object(m.jsx)(d.a,{className:"user",placeholder:"Email",onInput:function(e){a(e.target.value),console.log({user:r})}}),Object(m.jsx)(d.a,{onInput:function(e){return h(e.target.value)},className:"pass",placeholder:"Password",type:"password"})]}),Object(m.jsxs)("div",{className:"loginbuttons",children:[Object(m.jsx)("button",{className:"up",onClick:function(){return e.push("/SignUp")},children:"Sign Up"}),Object(m.jsx)("button",{className:"in",onClick:function(){return Object(f.b)(y,r,b).then((function(e){var t=e.user;x=t,console.log(x),k(),N()})).catch((function(e){console.log(e.message)}))},children:"Sign In"})]})]})})},v=n(77),S=(n(98),n(31));var y=function(){var e=Object(c.useState)(),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(),s=Object(u.a)(a,2),o=s[0],j=s[1],b=Object(c.useState)(),h=Object(u.a)(b,2),p=h[0],f=h[1],O=Object(c.useState)(!1),x=Object(u.a)(O,2),g=x[0],y=x[1],k=Object(c.useState)(!1),N=Object(u.a)(k,2),C=N[0],w=N[1],E=function(){var e=Object(l.a)(i.a.mark((function e(t){var c,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={username:n,password:o,email:p},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)},e.next=5,fetch("https://misselfsbackend.herokuapp.com/createAccount",r).then((function(e){return e.text()})).then((function(e){return String(e)}));case 5:a=e.sent,console.log(a),"Failure"===a?y(!0):(y(!1),w(!0));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=Object(m.jsx)("div",{style:{color:"red"},children:"Email Already In Use"}),T=Object(m.jsx)("div",{style:{color:"black",backgroundColor:"lightgreen"},children:"Account Created! Go Back & Log In"});return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Create Account"}),g?I:null,C?T:null,Object(m.jsxs)("div",{className:"buttons",children:[Object(m.jsx)(d.a,{className:"username",placeholder:"Enter Username",onInput:function(e){return r(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&E(e)}}),Object(m.jsx)(d.a,{className:"password",placeholder:"Enter Password",type:"password",onInput:function(e){return j(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&E(e)}}),Object(m.jsx)(d.a,{className:"email",placeholder:"Enter Email",onInput:function(e){f(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&E(e)}})]}),Object(m.jsx)(v.a,{onClick:E,type:"submit",children:"Create Account"}),Object(m.jsx)("div",{children:Object(m.jsx)(S.b,{to:"/",children:"Go Back"})})]})},k=(n(60),n(125)),N=n(128),C=n(129),w=n(127),E=n(126);n(61);var I=function(){var e=Object(f.a)(),t=Object(j.f)(),n=Object(c.useState)(),r=Object(u.a)(n,2),a=r[0],s=r[1];return Object(m.jsx)("div",{className:"toolbar",children:Object(m.jsxs)(k.a,{color:"light",className:"navbar",children:[Object(m.jsxs)("div",{className:"homeandstories",children:[Object(m.jsx)("div",{onClick:function(){return t.push("/Home")},children:Object(m.jsx)(v.a,{color:"dark",className:"home",children:"Home"})}),Object(m.jsx)("div",{onClick:function(){return t.push({pathname:"/Stories"})},children:Object(m.jsx)(v.a,{color:"dark",className:"yourstories",children:"Your Stories"})})]}),Object(m.jsxs)("div",{className:"shotinthedark",children:[Object(m.jsx)("div",{className:"about",onClick:function(){return t.push({pathname:"/About"})},children:Object(m.jsx)(v.a,{color:"dark",children:"About"})}),Object(m.jsx)("div",{className:"donate",onClick:function(){return t.push({pathname:"/Donate"})},children:Object(m.jsx)(v.a,{color:"dark",children:"Donate"})})]}),Object(m.jsxs)(N.a,{className:"displayname",isOpen:a,toggle:function(){return s(!a)},direction:"left",children:[Object(m.jsx)(C.a,{children:e.currentUser.displayName?e.currentUser.displayName:e.currentUser.email}),Object(m.jsxs)(w.a,{children:[Object(m.jsx)(E.a,{onClick:function(){return t.push({pathname:"/Stories"})},children:"My Stories"}),Object(m.jsx)(E.a,{onClick:function(){return alert("Under Construction")},children:"Settings"}),Object(m.jsx)(E.a,{divider:!0}),Object(m.jsx)(E.a,{onClick:e.signOut,href:"/",children:"Log Out"})]})]})]})})},T=n.p+"static/media/moon.3e8a4b27.jpg";var U=function(){var e=Object(f.a)(),t=e.currentUser?{username:e.currentUser.uid,id:1}:null,n=e.currentUser?{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}:null,r=fetch("https://misselfsbackend.herokuapp.com/createPatient",n).then((function(e){return e.json()})).then((function(e){return console.log(e)}));return Object(c.useEffect)((function(){return r})),Object(m.jsx)("div",{children:e.currentUser?Object(m.jsxs)("div",{className:"Moon",style:{backgroundImage:"url(".concat(T,")"),backgroundSize:"cover"},children:[Object(m.jsx)(I,{}),Object(m.jsx)("h1",{className:"homeheader",children:"Welcome!"})]}):Object(m.jsx)("h1",{children:"Login In First!"})})},P=n(19),A=n(56),D=n.n(A),L=n(80),z=n.n(L),J=n(81),B=n.n(J);n(113),n(114);var H=function(e){Object(c.useEffect)((function(){fetch("https://misselfsbackend.herokuapp.com/getStory?s="+String(e.location.state.b)).then((function(e){return e.text()})).then((function(e){console.log(e);var t=String(e);if(t.includes("timestamp")&&t.includes("getStory"))return"";var n=t.substring(1,t.length-1),c=n.replaceAll('\\"','"').replaceAll("\\t","        ");console.log(c+"look");var r=c.split("\\n");return console.log(r),console.log(n+"here"),l(e),document.getElementById("j").value=r.map((function(e){return e+"\n"})).join(""),t})).catch((function(e){return console.log(e)}))}),[]);var t=Object(c.useState)(),n=Object(u.a)(t,2),r=n[0],a=n[1];Object(c.useEffect)((function(){console.log("hi");var e=setTimeout((function(){return fetch("https://misselfsbackend.herokuapp.com/writeStory",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}),400);return function(){return clearTimeout(e)}}),[r]);var s=Object(c.useState)(),o=Object(u.a)(s,2),i=o[0],l=o[1];return Object(m.jsxs)("div",{className:"Entirestory",children:[Object(m.jsx)(I,{}),Object(m.jsx)("h1",{children:e.location.state.b}),Object(m.jsx)("textarea",{id:"j",className:"area",defaultvalue:i,value:r,onChange:function(e){return a(e.target.value)},onKeyDown:function(e){if(9===e.keyCode){e.preventDefault();var t=e.target.selectionStart,n=e.target.selectionEnd;e.target.value=e.target.value.substring(0,t)+"\t"+e.target.value.substring(n,e.target.value.length),e.target.selectionStart=e.target.selectionEnd=t+1,console.log(t),console.log(n)}},spellCheck:"false"})]})};var K=function(e){var t=Object(c.useState)(""),n=Object(u.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(!1),o=Object(u.a)(s,2),b=o[0],h=o[1],p=Object(c.useState)(!0),O=Object(u.a)(p,2),x=O[0],g=O[1],S=Object(c.useState)([]),y=Object(u.a)(S,2),N=y[0],C=y[1],w=Object(j.f)(),E=Object(f.a)(),T=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(String(t.currentTarget.id)),n=String(t.currentTarget.id),c=n.toString(),e.next=5,fetch("https://misselfsbackend.herokuapp.com/deleteStory?s="+c,{method:"DELETE"}).then((function(){var e=Object(P.a)(N).filter((function(e){return e!==c}));C(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=N.map((function(t){return Object(m.jsxs)("div",{className:"List",children:[Object(m.jsxs)(k.a,{color:"light",children:[Object(m.jsx)("div",{style:{fontWeight:"bold",fontSize:"20px"},children:t}),Object(m.jsx)("div",{className:"Writestory",id:t,onClick:function(t){var n=String(t.currentTarget.id).trim().toString();w.push({pathname:"/Story",state:{b:n},nav:e.location.nav})},children:Object(m.jsx)(v.a,{children:"Write Story"})}),Object(m.jsx)("div",{className:"Deleteicon",id:t,onClick:T,children:Object(m.jsx)(z.a,{color:"error",fontSize:"large"})})]}),Object(m.jsx)("div",{children:Object(m.jsx)("br",{})})]})})),A=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("read here"+r),C([].concat(Object(P.a)(N),[r]),console.log(N)),h(!1),g(!0),e.next=6,fetch("https://misselfsbackend.herokuapp.com/initStoryPojo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({story:r})}).then((function(e){return e.text()})).then((function(e){return console.log(e)}));case 6:return e.next=8,fetch("/createStory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then((function(e){return e.text()})).then((function(e){return console.log(e)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){fetch("https://misselfsbackend.herokuapp.com/mapUserStories").then((function(e){return e.json()})).then((function(e){return C(e)}))}),[]);var L=Object(m.jsxs)("div",{className:"Container",children:[Object(m.jsx)(d.a,{autoFocus:!0,className:"Spawn",placeholder:"Enter Story Title",onChange:function(e){a(e.target.value),console.log({savereader:r})}}),Object(m.jsx)("div",{className:"Save",onClick:A,children:Object(m.jsx)(v.a,{size:"sm",htmlcolor:"blue",children:"Save"})}),Object(m.jsx)("div",{className:"Cancel",onClick:function(){h(!1),g(!0)},children:Object(m.jsx)(B.a,{fontSize:"large",htmlcolor:"red"})})]});return Object(m.jsx)("div",{children:E.currentUser?Object(m.jsxs)("div",{children:[console.log(e),Object(m.jsx)(I,{}),Object(m.jsx)("h1",{children:"Story List"}),U||null,b?L:null,Object(m.jsx)("div",{className:"PlusButton",children:x?Object(m.jsx)(D.a,{onClick:function(){h(!0),g(!1)},fontSize:"large",color:"primary"}):Object(m.jsx)(D.a,{className:"Plusdisabled",fontSize:"large",color:"disabled"})})]}):Object(m.jsx)("h1",{children:"Log In First!"})})};var F=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(I,{}),Object(m.jsx)("h1",{className:"aboutpage",children:"You can write stories on this website and all of your written text automatically saves every 300 milliseconds. Have fun!"})]})};var G=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(I,{}),Object(m.jsx)(v.a,{classname:"Donatepaypal",onClick:function(){return window.open("https://paypal.me/DarkPianist")},children:"Donate!"})]})};var W=function(){return Object(m.jsx)(S.a,{children:Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(j.b,{exact:!0,path:"/",component:g}),Object(m.jsx)(j.b,{exact:!0,path:"/SignUp",component:y}),Object(m.jsx)(j.b,{exact:!0,path:"/Home",component:U}),Object(m.jsx)(j.b,{exact:!0,path:"/Stories",component:K}),Object(m.jsx)(j.b,{exact:!0,path:"/About",component:F}),Object(m.jsx)(j.b,{exact:!0,path:"/Donate",component:G}),Object(m.jsx)(j.b,{exact:!0,path:"/Story",component:H})]})})};n(115);s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(W,{})}),document.getElementById("root"))},60:function(e,t,n){},61:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},92:function(e,t,n){},98:function(e,t,n){}},[[117,1,2]]]);
//# sourceMappingURL=main.9f0f4491.chunk.js.map